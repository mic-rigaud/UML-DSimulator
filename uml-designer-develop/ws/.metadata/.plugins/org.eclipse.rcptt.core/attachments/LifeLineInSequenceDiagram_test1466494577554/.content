// Check diagram
with [get-editor "Test Sequence Diagram" | get-diagram -index 1 | get-edit-part -name "Test Sequence Diagram"] {
    with [get-edit-part -name "Class1 : Class1 [1]"] {
        get-edit-part -className SquareEditPart | get-figure "0/0" | get-property "isVisible()" | equals true 
            | verify-true
        get-edit-part -name Class1 | get-edit-part -className SquareEditPart | get-figure "0/0" 
            | get-property "isVisible()" | equals true | verify-true
    }
    with [get-edit-part -name "Class2 : Class2 [1]"] {
        get-edit-part -className SquareEditPart | get-figure "0/0" | get-property "isVisible()" | equals true 
            | verify-true
        get-edit-part -name Class2 | get-edit-part -className SquareEditPart | get-figure "0/0" 
            | get-property "isVisible()" | equals true | verify-true
    }
    get-edit-part -name "Actor1 : Actor1 [1]" | get-edit-part -className SquareEditPart | get-figure "0/0" 
        | get-property "isVisible()" | equals true | verify-true
    get-edit-part -name "Actor2 : Actor2 [1]" | get-edit-part -className SquareEditPart | get-figure "0/0" 
        | get-property "isVisible()" | equals true | verify-true
}

// Delete Class1 from model
with [get-editor "Test Sequence Diagram"] {
    with [get-diagram -index 1 | get-edit-part -name "Test Sequence Diagram"] {
        mouse-move 130 90 -height 500 -width 753
        with [get-edit-part -name "Class1 : Class1 [1]" | get-edit-part -className SquareEditPart] {
            mouse-move 82 27 button1 -height 40 -width 100
            mouse-press 82 27 button1 -height 40 -width 100
            mouse-release 82 27 button1 524288 -height 40 -width 100
        }
        mouse-move 255 6 -height 500 -width 750
    }
    get-button "Delete from Model" | click
}
// Delete Actor1 from Model
with [get-editor "Test Sequence Diagram"] {
    with [get-diagram -index 1 | get-edit-part -name "Test Sequence Diagram"] {
        mouse-move 483 92 -height 500 -width 750
        with [get-edit-part -name "Actor1 : Actor1 [1]" | get-edit-part -className SquareEditPart] {
            mouse-hover 27 30 -height 40 -width 100
            mouse-move 27 30 button1 -height 40 -width 100
            mouse-press 27 30 button1 -height 40 -width 100
            mouse-release 27 30 button1 524288 -height 40 -width 100
        }
        mouse-move 359 1 -height 500 -width 750
    }
    get-button "Delete from Model" | click
    get-diagram -index 1 | get-edit-part -name "Test Sequence Diagram" | mouse-move 17 155 -height 500 -width 750
}
// Check Model
with [get-editor "Test Sequence Diagram" | get-diagram -index 1 | get-edit-part -name "Test Sequence Diagram"] {
    get-property "element.target.ownedElement.size" | equals 2 | verify-true
    get-property "element.target.ownedElement.Lifeline[4].name" | equals Class2 | verify-true
    get-property "element.target.ownedElement.Lifeline[5].name" | equals Actor2 | verify-true
    get-property "element.target.lifeline.size" | equals 2 | verify-true
    get-property "element.target.lifeline.Lifeline[0].name" | equals Class2 | verify-true
    get-property "element.target.lifeline.Lifeline[1].name" | equals Actor2 | verify-true
    get-property "element.target.fragment.size" | equals 0 | verify-true
    get-property "element.target.message.size" | equals 0 | verify-true
}