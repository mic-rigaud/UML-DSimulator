// Create new Package
with [get-editor "NewModel Package Hierarchy"] {
    with [get-palette | get-palette-entry Package] {
        mouse-move 19 5 button1 -height 23 -width 134
        mouse-press 19 5 button1 -height 23 -width 134
        mouse-release 19 5 button1 524288 -height 23 -width 134
    }
    with [get-diagram -index 1 | get-edit-part -name "NewModel Package Hierarchy"] {
        mouse-move 65 70 button1 -height 524 -width 793
        mouse-press 65 70 button1 -height 524 -width 793
        mouse-release 65 70 button1 524288 -height 524 -width 793
    }
}

// Check Diagram, check model
with [get-editor "NewModel Package Hierarchy" | get-diagram -index 1 | get-edit-part 
    -name "NewModel Package Hierarchy"] {
    with [get-edit-part -name Package1 | get-edit-part -className WorkspaceImageEditPart | get-figure "0/0"] {
        get-property "getText()" | equals Package1 | verify-true
        get-property "isVisible()" | equals true | verify-true
    }
    get-property "children.Node[0].element.target.name" | equals Package1 | verify-true
}