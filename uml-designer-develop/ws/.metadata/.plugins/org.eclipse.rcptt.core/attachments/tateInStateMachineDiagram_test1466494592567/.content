// Drop State1 from Region1 to Region2
with [get-editor "NewModel State Machine Diagram"] {
    with [get-diagram -index 1 | get-edit-part -name "NewModel State Machine Diagram"] {
        with [get-edit-part -name NewModel | get-edit-part 
            -className DNodeContainerViewNodeContainerCompartmentEditPart] {
            with [get-edit-part -name Region1 | get-edit-part -name Region1] {
                with [get-edit-part -name State1] {
                    with [get-edit-part -className DNodeListName2EditPart] {
                        mouse-move 7 7 button1 -height 15 -width 32
                        mouse-press 7 7 button1 -height 15 -width 32
                    }
                }
            }
            with [get-edit-part -name Region2 | get-edit-part -name Region2] {
                mouse-drag 203 87 button1 524288 -height 399 -width 279
                mouse-release 203 87 button1 524288 -height 399 -width 279
            }
        }
    }
}

// Check diagram, and model
with [get-editor "NewModel State Machine Diagram" | get-diagram -index 1 | get-edit-part 
    -name "NewModel State Machine Diagram" | get-edit-part -name NewModel | get-edit-part 
    -className DNodeContainerViewNodeContainerCompartmentEditPart | get-edit-part -name Region2 | get-edit-part 
    -className DNodeContainerViewNodeContainerCompartment2EditPart] {
    get-edit-part -name State1 | get-property "element.target.owner.name" | equals Region2 | verify-true
}
